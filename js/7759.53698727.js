"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[7759],{525:function(t,e,a){a.d(e,{Ak:function(){return l},EZ:function(){return c},Md:function(){return d},Ro:function(){return u},ZM:function(){return s},bt:function(){return h},ij:function(){return p},qm:function(){return i}});var n=a(4373);const o={"Content-Type":"application/json"},r=t=>{const e=n.A.isAxiosError(t)&&t.response?t.response.data.errorCode:null;throw{originalError:t,errorCode:e}},i=async(t,e)=>{try{const a="http://localhost:8080/api/v1/auth/sms/send",r={name:t,phoneNumber:e},i=await n.A.post(a,r,{headers:o});return i.data}catch(a){r(a)}},c=async(t,e,a)=>{try{const r="http://localhost:8080/api/v1/auth/sms/check",i={name:t,phoneNumber:e,verificationCode:a},c=await n.A.post(r,i,{headers:o});return c.data}catch(i){r(i)}},l=async(t,e)=>{try{const a="http://localhost:8080/api/v1/auth/sms/send/later",r={name:t,phoneNumber:e},i=await n.A.post(a,r,{headers:o});return i.data}catch(a){r(a)}},s=async t=>{try{const e="http://localhost:8080/api/v1/auth/authentication/send",a=await n.A.post(e,{email:t},{headers:{"Content-Type":"application/json"}});return a.data}catch(e){const t=n.A.isAxiosError(e)&&e.response?e.response.data.errorCode:null;throw{originalError:e,errorCode:t}}},u=async(t,e)=>{try{const a="http://localhost:8080/api/v1/auth/authentication/check",r={email:t,authCode:e},i=await n.A.post(a,r,{headers:o});return i.data}catch(a){r(a)}},d=async(t,e)=>{try{const a="http://localhost:8080/api/v1/auth/find/id",o={name:t,phoneNumber:e},r=await n.A.post(a,o);return r.data}catch(a){r(a)}},h=async(t,e)=>{try{const a="http://localhost:8080/api/v1/auth/authentication/check/later",o={email:t,authCode:e},r=await n.A.post(a,o);return r.data}catch(a){r(a)}},p=async t=>{try{const e="http://localhost:8080/api/v1/auth/check/id",a={email:t},o=await n.A.post(e,a);return o.data}catch(e){r(e)}}},7759:function(t,e,a){a.r(e),a.d(e,{default:function(){return w}});a(4114);var n=a(6768),o=a(144),r=a(8606),i=a(1387),c=a(1810),l=a(5438),s=a(5234),u=a(525),d=a(8066);const h=t=>((0,n.Qi)("data-v-de806e88"),t=t(),(0,n.jt)(),t),p={class:"signup-verification-container"},v=h((()=>(0,n.Lk)("span",{class:"verification-text"},[(0,n.Lk)("h1",{class:"heading3-bold"},"본인인증을 진행해주세요"),(0,n.Lk)("h2",{class:"body2-regular"}," 안전한 서비스 사용을 위해 딱 한 번만 본인인증을 진행해요. ")],-1))),m={class:"signup-input"},f={class:"phone-verification"};var y=(0,n.pM)({__name:"SignUpVerification",setup(t){const e=(0,i.rd)(),a=(0,c.En)(),{name:h,nameState:y,phoneNumber:b,phoneNumberState:k,code:w,codeState:A,codeMessege:C,cleanPhoneNumber:R}=(0,s.bP)(a),g=(0,c.I4)(),{email:x}=(0,s.bP)(g),E=(0,c.Kt)(),{password:V}=(0,s.bP)(E),S=(0,o.Kh)({verificationStart:!1,verificationExpired:!1}),N=async()=>{try{if(0===h.value.length)return void(y.value="error");if(y.value="default",!(0,l.Q7)(R.value))return void(k.value="error");k.value="default",S.verificationStart=!0,S.verificationExpired=!1,await(0,u.qm)(h.value,R.value)}catch(t){const e=t;"INVALID_VALUE_04"===e.errorCode&&(A.value="error",C.value="이미 계정이 존재합니다.")}},L=()=>{A.value="error",C.value="인증시간이 만료되었습니다.",S.verificationExpired=!0},_=async()=>{if(!S.verificationExpired)try{await(0,u.EZ)(h.value,R.value,w.value),await(0,d.Hh)(x.value,V.value,h.value,R.value),e.push({name:"signup-complete"})}catch(t){const e=t;"AUTH_03"===e.errorCode&&(A.value="error",C.value="인증번호가 틀렸습니다.")}};return(t,e)=>((0,n.uX)(),(0,n.CE)("div",p,[v,(0,n.Lk)("span",m,[(0,n.bF)((0,o.R1)(r.pd),{placeholder:"이름",state:(0,o.R1)(y),modelValue:(0,o.R1)(h),"onUpdate:modelValue":e[0]||(e[0]=t=>(0,o.i9)(h)?h.value=t:null)},null,8,["state","modelValue"]),(0,n.Lk)("div",f,[(0,n.bF)((0,o.R1)(r.pd),{placeholder:"000-0000-0000",onInput:(0,o.R1)(l.Y8),maxlength:"13",modelValue:(0,o.R1)(b),"onUpdate:modelValue":e[1]||(e[1]=t=>(0,o.i9)(b)?b.value=t:null),state:(0,o.R1)(k)},null,8,["onInput","modelValue","state"]),(0,n.bF)((0,o.R1)(r.$n),{text:"인증번호 받기",style:{width:"200px",height:"44px",backgroundColor:"var(--color-button-secondary)",color:"var(--color-button-on-secondary)",fontSize:"1.4rem"},onClick:N})]),(0,n.bF)((0,o.R1)(r.pd),{placeholder:"인증번호 입력",modelValue:(0,o.R1)(w),"onUpdate:modelValue":e[2]||(e[2]=t=>(0,o.i9)(w)?w.value=t:null),state:(0,o.R1)(A),message:(0,o.R1)(C)},null,8,["modelValue","state","message"])]),(0,n.bF)((0,o.R1)(r.PM),{verificationStart:S.verificationStart,handleTimeout:L,onResendSms:N},null,8,["verificationStart"]),(0,n.bF)((0,o.R1)(r.$n),{class:"next-button",onClick:_,text:"확인"})]))}}),b=a(1241);const k=(0,b.A)(y,[["__scopeId","data-v-de806e88"]]);var w=k}}]);
//# sourceMappingURL=7759.53698727.js.map