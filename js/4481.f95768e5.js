"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[4481],{525:function(e,t,a){a.d(t,{Ak:function(){return s},EZ:function(){return i},Md:function(){return d},Ro:function(){return l},ZM:function(){return c},bt:function(){return p},ij:function(){return h},qm:function(){return u}});var n=a(4373);const r={"Content-Type":"application/json"},o=e=>{const t=n.A.isAxiosError(e)&&e.response?e.response.data.errorCode:null;throw{originalError:e,errorCode:t}},u=async(e,t)=>{try{const a="https://jejugudgo.xyz:8080/api/v1/auth/sms/send",o={name:e,phoneNumber:t},u=await n.A.post(a,o,{headers:r});return u.data}catch(a){o(a)}},i=async(e,t,a)=>{try{const o="https://jejugudgo.xyz:8080/api/v1/auth/sms/check",u={name:e,phoneNumber:t,verificationCode:a},i=await n.A.post(o,u,{headers:r});return i.data}catch(u){o(u)}},s=async(e,t)=>{try{const a="https://jejugudgo.xyz:8080/api/v1/auth/sms/send/later",o={name:e,phoneNumber:t},u=await n.A.post(a,o,{headers:r});return u.data}catch(a){o(a)}},c=async e=>{try{const t="https://jejugudgo.xyz:8080/api/v1/auth/authentication/send",a=await n.A.post(t,{email:e},{headers:{"Content-Type":"application/json"}});return a.data}catch(t){const e=n.A.isAxiosError(t)&&t.response?t.response.data.errorCode:null;throw{originalError:t,errorCode:e}}},l=async(e,t)=>{try{const a="https://jejugudgo.xyz:8080/api/v1/auth/authentication/check",o={email:e,authCode:t},u=await n.A.post(a,o,{headers:r});return u.data}catch(a){o(a)}},d=async(e,t)=>{try{const a="https://jejugudgo.xyz:8080/api/v1/auth/find/id",r={name:e,phoneNumber:t},o=await n.A.post(a,r);return o.data}catch(a){o(a)}},p=async(e,t)=>{try{const a="https://jejugudgo.xyz:8080/api/v1/auth/authentication/check/later",r={email:e,authCode:t},o=await n.A.post(a,r);return o.data}catch(a){o(a)}},h=async e=>{try{const t="https://jejugudgo.xyz:8080/api/v1/auth/check/id",a={email:e},r=await n.A.post(t,a);return r.data}catch(t){o(t)}}},4481:function(e,t,a){a.r(t),a.d(t,{default:function(){return x}});a(4114);var n=a(6768),r=a(144),o=a(1397),u=a(1387),i=a(1810),s=a(5438),c=a(5234),l=a(525),d=a(8066);const p=e=>((0,n.Qi)("data-v-dbf4e648"),e=e(),(0,n.jt)(),e),h={class:"signup-verification-container"},v=p((()=>(0,n.Lk)("span",{class:"verification-text"},[(0,n.Lk)("h1",{class:"heading3-bold"},"본인인증을 진행해주세요"),(0,n.Lk)("h2",{class:"body2-regular"}," 안전한 서비스 사용을 위해 딱 한 번만 본인인증을 진행해요. ")],-1))),m={class:"signup-input"},f={class:"phone-verification"};var y=(0,n.pM)({__name:"SignUpVerification",setup(e){const t=(0,u.rd)(),a=(0,i.En)(),{name:p,nameState:y,phoneNumber:g,phoneNumberState:b,code:x,codeState:j,codeMessege:k,cleanPhoneNumber:w}=(0,c.bP)(a),A=(0,i.I4)(),{email:C}=(0,c.bP)(A),R=(0,i.Kt)(),{password:E}=(0,c.bP)(R),V=(0,r.Kh)({verificationStart:!1,verificationExpired:!1}),S=async()=>{try{if(0===p.value.length)return void(y.value="error");if(y.value="default",!(0,s.Q7)(w.value))return void(b.value="error");b.value="default",V.verificationStart=!0,V.verificationExpired=!1,await(0,l.qm)(p.value,w.value)}catch(e){const t=e;"INVALID_VALUE_04"===t.errorCode&&(j.value="error",k.value="이미 계정이 존재합니다.")}},z=()=>{j.value="error",k.value="인증시간이 만료되었습니다.",V.verificationExpired=!0},N=async()=>{if(!V.verificationExpired)try{await(0,l.EZ)(p.value,w.value,x.value),await(0,d.Hh)(C.value,E.value,p.value,w.value),t.push({name:"signup-complete"})}catch(e){const t=e;"AUTH_03"===t.errorCode&&(j.value="error",k.value="인증번호가 틀렸습니다.")}};return(e,t)=>((0,n.uX)(),(0,n.CE)("div",h,[v,(0,n.Lk)("span",m,[(0,n.bF)((0,r.R1)(o.pd),{placeholder:"이름",state:(0,r.R1)(y),modelValue:(0,r.R1)(p),"onUpdate:modelValue":t[0]||(t[0]=e=>(0,r.i9)(p)?p.value=e:null)},null,8,["state","modelValue"]),(0,n.Lk)("div",f,[(0,n.bF)((0,r.R1)(o.pd),{placeholder:"000-0000-0000",onInput:(0,r.R1)(s.Y8),maxlength:"13",modelValue:(0,r.R1)(g),"onUpdate:modelValue":t[1]||(t[1]=e=>(0,r.i9)(g)?g.value=e:null),state:(0,r.R1)(b)},null,8,["onInput","modelValue","state"]),(0,n.bF)((0,r.R1)(o.$n),{text:"인증번호 받기",style:{width:"200px",height:"44px",backgroundColor:"var(--color-button-secondary)",color:"var(--color-button-on-secondary)",fontSize:"1.4rem"},onClick:S})]),(0,n.bF)((0,r.R1)(o.pd),{placeholder:"인증번호 입력",modelValue:(0,r.R1)(x),"onUpdate:modelValue":t[2]||(t[2]=e=>(0,r.i9)(x)?x.value=e:null),state:(0,r.R1)(j),message:(0,r.R1)(k)},null,8,["modelValue","state","message"])]),(0,n.bF)((0,r.R1)(o.PM),{verificationStart:V.verificationStart,handleTimeout:z,onResendSms:S},null,8,["verificationStart"]),(0,n.bF)((0,r.R1)(o.$n),{class:"next-button",onClick:N,text:"확인"})]))}}),g=a(1241);const b=(0,g.A)(y,[["__scopeId","data-v-dbf4e648"]]);var x=b}}]);
//# sourceMappingURL=4481.f95768e5.js.map