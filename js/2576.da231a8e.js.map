{"version":3,"file":"js/2576.da231a8e.js","mappings":"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","sources":["webpack://frontend/./src/apis/authorityFeature/index.ts","webpack://frontend/./src/views/auth/SignUpID.vue?c339","webpack://frontend/./src/views/auth/SignUpID.vue","webpack://frontend/./src/views/auth/SignUpID.vue?2c0d"],"sourcesContent":["import axios from 'axios';\n\nconst headers: Record<string, string> = {\n  'Content-Type': 'application/json',\n};\n\nconst handleAxiosError = (error: unknown) => {\n  const errorCode =\n    axios.isAxiosError(error) && error.response\n      ? error.response.data.errorCode\n      : null;\n  throw { originalError: error, errorCode };\n};\n\nexport const sendSms = async (name: string, phoneNumber: string) => {\n  try {\n    const url = `${process.env.VUE_APP_BASE_API}/api/v1/auth/sms/send`;\n    const data = { name, phoneNumber };\n    const response = await axios.post(url, data, {\n      headers,\n    });\n\n    return response.data;\n  } catch (error) {\n    handleAxiosError(error);\n  }\n};\n\nexport const checkSms = async (\n  name: string,\n  phoneNumber: string,\n  verificationCode: string\n) => {\n  try {\n    const url = `${process.env.VUE_APP_BASE_API}/api/v1/auth/sms/check`;\n    const data = { name, phoneNumber, verificationCode };\n    const response = await axios.post(url, data, {\n      headers,\n    });\n\n    return response.data;\n  } catch (error) {\n    handleAxiosError(error);\n  }\n};\n\nexport const sendSmsLater = async (name: string, phoneNumber: string) => {\n  try {\n    const url = `${process.env.VUE_APP_BASE_API}/api/v1/auth/sms/send/later`;\n    const data = { name, phoneNumber };\n    const response = await axios.post(url, data, {\n      headers,\n    });\n\n    return response.data;\n  } catch (error) {\n    handleAxiosError(error);\n  }\n};\n\nexport const sendEmail = async (email: string) => {\n  try {\n    const url = `${process.env.VUE_APP_BASE_API}/api/v1/auth/authentication/send`;\n    const response = await axios.post(\n      url,\n      { email },\n      {\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      }\n    );\n    return response.data;\n  } catch (error) {\n    const errorCode =\n      axios.isAxiosError(error) && error.response\n        ? error.response.data.errorCode\n        : null;\n    throw { originalError: error, errorCode };\n  }\n};\n\nexport const checkEmail = async (email: string, authCode: string) => {\n  try {\n    const url = `${process.env.VUE_APP_BASE_API}/api/v1/auth/authentication/check`;\n    const data = { email, authCode };\n    const response = await axios.post(url, data, {\n      headers,\n    });\n\n    return response.data;\n  } catch (error) {\n    handleAxiosError(error);\n  }\n};\n\nexport const findUserId = async (name: string, phoneNumber: string) => {\n  try {\n    const url = `${process.env.VUE_APP_BASE_API}/api/v1/auth/find/id`;\n    const data = { name, phoneNumber };\n    const response = await axios.post(url, data);\n\n    return response.data;\n  } catch (error) {\n    handleAxiosError(error);\n  }\n};\n\nexport const sendEmailLater = async (email: string, authCode: string) => {\n  try {\n    const url = `${process.env.VUE_APP_BASE_API}/api/v1/auth/authentication/check/later`;\n    const data = { email, authCode };\n    const response = await axios.post(url, data);\n\n    return response.data;\n  } catch (error) {\n    handleAxiosError(error);\n  }\n};\n\nexport const checkId = async (email: string) => {\n  try {\n    const url = `${process.env.VUE_APP_BASE_API}/api/v1/auth/check/id`;\n    const data = { email };\n    const response = await axios.post(url, data);\n\n    return response.data;\n  } catch (error) {\n    handleAxiosError(error);\n  }\n};\n","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, unref as _unref, isRef as _isRef, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = (n: any) => (_pushScopeId(\"data-v-b5802d90\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"signup-id-container\" }\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"id-text heading3-bold\" }, [\n  /*#__PURE__*/_createElementVNode(\"h1\", null, \"로그인에 사용할\"),\n  /*#__PURE__*/_createElementVNode(\"h1\", null, \"아이디를 입력해주세요\")\n], -1))\n\nimport { Button, Input } from '@/components';\r\nimport { validateEmail } from '@/utils';\r\nimport { checkId } from '@/apis/authorityFeature';\r\nimport { watch } from 'vue';\r\nimport { useRouter } from 'vue-router';\r\nimport { useSignUpIDStore } from '@/stores/auth';\r\nimport { storeToRefs } from 'pinia';\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'SignUpID',\n  setup(__props) {\n\r\nconst signUpIDStore = useSignUpIDStore();\r\nconst { email, inputState, inputMessage } = storeToRefs(signUpIDStore);\r\n\r\nconst router = useRouter();\r\n\r\nwatch(email, async (newEmail) => {\r\n  if (newEmail === '') {\r\n    inputState.value = 'default';\r\n    inputMessage.value = '';\r\n  } else if (validateEmail(newEmail)) {\r\n    inputState.value = 'success';\r\n    inputMessage.value = '';\r\n  } else {\r\n    inputState.value = 'error';\r\n    inputMessage.value = '이메일 형식이 올바르지 않습니다.';\r\n  }\r\n});\r\n\r\nconst nextPage = async () => {\r\n  if (inputState.value === 'success') {\r\n    try {\r\n      await checkId(email.value);\r\n      router.push({ name: 'signup-password' });\r\n    } catch (error) {\r\n      const emailError = error as { errorCode: string | null };\r\n      if (emailError.errorCode == 'INVALID_VALUE_04') {\r\n        inputState.value = 'error';\r\n        inputMessage.value = '이미 계정이 존재합니다.';\r\n      } else {\r\n        inputState.value = 'error';\r\n        inputMessage.value = '이메일 확인 중 오류가 발생했습니다.';\r\n      }\r\n    }\r\n  }\r\n};\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _hoisted_2,\n    _createVNode(_unref(Input), {\n      placeholder: \"이메일\",\n      modelValue: _unref(email),\n      \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => (_isRef(email) ? (email).value = $event : null)),\n      state: _unref(inputState),\n      message: _unref(inputMessage)\n    }, null, 8, [\"modelValue\", \"state\", \"message\"]),\n    _createVNode(_unref(Button), {\n      class: \"next-button\",\n      onClick: nextPage,\n      disabled: _unref(inputState) !== 'success',\n      text: \"다음\"\n    }, null, 8, [\"disabled\"])\n  ]))\n}\n}\n\n})","<template>\r\n  <div class=\"signup-id-container\">\r\n    <span class=\"id-text heading3-bold\">\r\n      <h1>로그인에 사용할</h1>\r\n      <h1>아이디를 입력해주세요</h1>\r\n    </span>\r\n    <Input\r\n      placeholder=\"이메일\"\r\n      v-model=\"email\"\r\n      :state=\"inputState\"\r\n      :message=\"inputMessage\"\r\n    />\r\n    <Button\r\n      class=\"next-button\"\r\n      @click=\"nextPage\"\r\n      :disabled=\"inputState !== 'success'\"\r\n      text=\"다음\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { Button, Input } from '@/components';\r\nimport { validateEmail } from '@/utils';\r\nimport { checkId } from '@/apis/authorityFeature';\r\nimport { watch } from 'vue';\r\nimport { useRouter } from 'vue-router';\r\nimport { useSignUpIDStore } from '@/stores/auth';\r\nimport { storeToRefs } from 'pinia';\r\n\r\nconst signUpIDStore = useSignUpIDStore();\r\nconst { email, inputState, inputMessage } = storeToRefs(signUpIDStore);\r\n\r\nconst router = useRouter();\r\n\r\nwatch(email, async (newEmail) => {\r\n  if (newEmail === '') {\r\n    inputState.value = 'default';\r\n    inputMessage.value = '';\r\n  } else if (validateEmail(newEmail)) {\r\n    inputState.value = 'success';\r\n    inputMessage.value = '';\r\n  } else {\r\n    inputState.value = 'error';\r\n    inputMessage.value = '이메일 형식이 올바르지 않습니다.';\r\n  }\r\n});\r\n\r\nconst nextPage = async () => {\r\n  if (inputState.value === 'success') {\r\n    try {\r\n      await checkId(email.value);\r\n      router.push({ name: 'signup-password' });\r\n    } catch (error) {\r\n      const emailError = error as { errorCode: string | null };\r\n      if (emailError.errorCode == 'INVALID_VALUE_04') {\r\n        inputState.value = 'error';\r\n        inputMessage.value = '이미 계정이 존재합니다.';\r\n      } else {\r\n        inputState.value = 'error';\r\n        inputMessage.value = '이메일 확인 중 오류가 발생했습니다.';\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.signup-id-container {\r\n  width: 100%;\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 20px;\r\n}\r\n\r\n.id-text {\r\n  color: var(--color-neutral-white);\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.next-button {\r\n  margin-top: auto;\r\n  align-self: center;\r\n}\r\n</style>\r\n","import script from \"./SignUpID.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./SignUpID.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./SignUpID.vue?vue&type=style&index=0&id=b5802d90&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-b5802d90\"]])\n\nexport default __exports__"],"names":["headers","handleAxiosError","error","errorCode","axios","isAxiosError","response","data","originalError","sendSms","async","name","phoneNumber","url","post","checkSms","verificationCode","sendSmsLater","sendEmail","email","checkEmail","authCode","findUserId","sendEmailLater","checkId","_withScopeId","n","_pushScopeId","_popScopeId","_hoisted_1","class","_hoisted_2","_createElementVNode","_defineComponent","__name","setup","__props","signUpIDStore","useSignUpIDStore","inputState","inputMessage","storeToRefs","router","useRouter","watch","newEmail","value","validateEmail","nextPage","push","emailError","_ctx","_cache","_openBlock","_createElementBlock","_createVNode","_unref","Input","placeholder","modelValue","$event","_isRef","state","message","Button","onClick","disabled","text","__exports__"],"sourceRoot":""}