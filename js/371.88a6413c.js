"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[371],{525:function(e,a,t){t.d(a,{Ak:function(){return s},EZ:function(){return u},Md:function(){return d},Ro:function(){return i},ZM:function(){return c},bt:function(){return h},qm:function(){return l}});var n=t(4373);const o={"Content-Type":"application/json"},r=e=>{const a=n.A.isAxiosError(e)&&e.response?e.response.data.errorCode:null;throw{originalError:e,errorCode:a}},l=async(e,a)=>{try{const t="http://localhost:8080/api/v1/auth/sms/send",r={name:e,phoneNumber:a},l=await n.A.post(t,r,{headers:o});return l.data}catch(t){r(t)}},u=async(e,a,t)=>{try{const r="http://localhost:8080/api/v1/auth/sms/check",l={name:e,phoneNumber:a,verificationCode:t},u=await n.A.post(r,l,{headers:o});return u.data}catch(l){r(l)}},s=async(e,a)=>{try{const t="http://localhost:8080/api/v1/auth/sms/send/later",r={name:e,phoneNumber:a},l=await n.A.post(t,r,{headers:o});return l.data}catch(t){r(t)}},c=async e=>{try{const a="http://localhost:8080/api/v1/auth/authentication/send",t=await n.A.post(a,{email:e},{headers:{"Content-Type":"application/json"}});return t.data}catch(a){const e=n.A.isAxiosError(a)&&a.response?a.response.data.errorCode:null;throw{originalError:a,errorCode:e}}},i=async(e,a)=>{try{const t="http://localhost:8080/api/v1/auth/authentication/check",r={email:e,authCode:a},l=await n.A.post(t,r,{headers:o});return l.data}catch(t){r(t)}},d=async(e,a)=>{try{const t="http://localhost:8080/api/v1/auth/find/id",o={name:e,phoneNumber:a},r=await n.A.post(t,o);return r.data}catch(t){r(t)}},h=async(e,a)=>{try{const t="http://localhost:8080/api/v1/auth/authentication/check/later",o={email:e,authCode:a},r=await n.A.post(t,o);return r.data}catch(t){r(t)}}},7371:function(e,a,t){t.r(a),t.d(a,{default:function(){return v}});t(4114);var n=t(6768),o=t(144),r=t(6502),l=t(1387),u=t(525),s=t(5438);const c={class:"find-password-container"},i={class:"find-input"};var d=(0,n.pM)({__name:"FindPasswordByPhone",setup(e){const a=(0,l.rd)(),t=(0,o.Kh)({verificationSent:!1,verificationExpired:!1}),d=(0,o.KR)(""),h=(0,o.KR)("default"),p=(0,o.KR)(""),v=(0,o.KR)("default"),f=(0,o.KR)(""),m=(0,o.KR)("default"),y=(0,o.KR)(""),b=(0,o.KR)(""),w=async()=>{if(0===d.value.length)return void(h.value="error");h.value="default";const e=p.value.replace(/-/g,"");if((0,s.Q7)(e)){v.value="default";try{await(0,u.Ak)(d.value,e),t.verificationSent=!0}catch(a){const e=a;"INVALID_VALUE_04"===e.errorCode&&(m.value="error",y.value="이미 계정이 존재합니다.")}}else v.value="error"},A=async()=>{if(t.verificationSent)try{const e=p.value.replace(/-/g,"");await(0,u.EZ)(d.value,e,f.value);const t=await(0,u.Md)(d.value,e);b.value=t[0]?.id??"",a.push({name:"find-password-reset",query:{name:d.value,phoneNumber:e,userId:b.value}})}catch(e){const a=e;"AUTH_03"===a.errorCode&&(m.value="error",y.value="인증번호가 틀렸습니다.")}};return(e,a)=>((0,n.uX)(),(0,n.CE)("div",c,[(0,n.Lk)("span",i,[(0,n.bF)((0,o.R1)(r.pd),{placeholder:"이름을 입력해주세요",label:"이름",modelValue:d.value,"onUpdate:modelValue":a[0]||(a[0]=e=>d.value=e),state:h.value},null,8,["modelValue","state"]),(0,n.bF)((0,o.R1)(r.pd),{placeholder:"010-0000-0000",onInput:(0,o.R1)(s.Y8),maxlength:"13",label:"휴대폰 번호",modelValue:p.value,"onUpdate:modelValue":a[1]||(a[1]=e=>p.value=e),state:v.value,message:"가입 시 등록한 휴대폰 번호를 입력해주세요"},null,8,["onInput","modelValue","state"]),t.verificationSent?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.Wv)((0,o.R1)(r.$n),{key:0,text:"인증번호 받기",onClick:w,style:{backgroundColor:"var(--color-button-secondary)",color:"var(--color-button-on-secondary)",height:"44px",fontSize:"1.4rem"}})),t.verificationSent?((0,n.uX)(),(0,n.Wv)((0,o.R1)(r.pd),{key:1,placeholder:"인증번호 입력",label:"인증번호",modelValue:f.value,"onUpdate:modelValue":a[2]||(a[2]=e=>f.value=e),state:m.value,message:y.value},null,8,["modelValue","state","message"])):(0,n.Q3)("",!0)]),t.verificationSent?((0,n.uX)(),(0,n.Wv)((0,o.R1)(r.$n),{key:0,class:"next-button",onClick:A,text:"다음"})):(0,n.Q3)("",!0)]))}}),h=t(1241);const p=(0,h.A)(d,[["__scopeId","data-v-f20eb61e"]]);var v=p}}]);
//# sourceMappingURL=371.88a6413c.js.map