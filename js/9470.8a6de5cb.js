"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[9470],{525:function(e,t,a){a.d(t,{Ak:function(){return l},EZ:function(){return u},Md:function(){return d},Ro:function(){return c},ZM:function(){return s},bt:function(){return v},ij:function(){return p},qm:function(){return i}});var r=a(4373);const n={"Content-Type":"application/json"},o=e=>{const t=r.A.isAxiosError(e)&&e.response?e.response.data.errorCode:null;throw{originalError:e,errorCode:t}},i=async(e,t)=>{try{const a="http://jejugudgo.xyz:8080/api/v1/auth/sms/send",o={name:e,phoneNumber:t},i=await r.A.post(a,o,{headers:n});return i.data}catch(a){o(a)}},u=async(e,t,a)=>{try{const o="http://jejugudgo.xyz:8080/api/v1/auth/sms/check",i={name:e,phoneNumber:t,verificationCode:a},u=await r.A.post(o,i,{headers:n});return u.data}catch(i){o(i)}},l=async(e,t)=>{try{const a="http://jejugudgo.xyz:8080/api/v1/auth/sms/send/later",o={name:e,phoneNumber:t},i=await r.A.post(a,o,{headers:n});return i.data}catch(a){o(a)}},s=async e=>{try{const t="http://jejugudgo.xyz:8080/api/v1/auth/authentication/send",a=await r.A.post(t,{email:e},{headers:{"Content-Type":"application/json"}});return a.data}catch(t){const e=r.A.isAxiosError(t)&&t.response?t.response.data.errorCode:null;throw{originalError:t,errorCode:e}}},c=async(e,t)=>{try{const a="http://jejugudgo.xyz:8080/api/v1/auth/authentication/check",o={email:e,authCode:t},i=await r.A.post(a,o,{headers:n});return i.data}catch(a){o(a)}},d=async(e,t)=>{try{const a="http://jejugudgo.xyz:8080/api/v1/auth/find/id",n={name:e,phoneNumber:t},o=await r.A.post(a,n);return o.data}catch(a){o(a)}},v=async(e,t)=>{try{const a="http://jejugudgo.xyz:8080/api/v1/auth/authentication/check/later",n={email:e,authCode:t},o=await r.A.post(a,n);return o.data}catch(a){o(a)}},p=async e=>{try{const t="http://jejugudgo.xyz:8080/api/v1/auth/check/id",a={email:e},n=await r.A.post(t,a);return n.data}catch(t){o(t)}}},9470:function(e,t,a){a.r(t),a.d(t,{default:function(){return y}});a(4114);var r=a(6768),n=a(144),o=a(1387),i=a(525),u=a(1397);const l=e=>((0,r.Qi)("data-v-26b80436"),e=e(),(0,r.jt)(),e),s={class:"find-password-email-container"},c={class:"find-password-email-input"},d=l((()=>(0,r.Lk)("br",null,null,-1))),v=l((()=>(0,r.Lk)("br",null,null,-1))),p=l((()=>(0,r.Lk)("br",null,null,-1)));var h=(0,r.pM)({__name:"FindPasswordByEmail",setup(e){const t=(0,o.rd)(),a=(0,n.Kh)({verificationSent:!1,verificationExpired:!1,verificationStart:!1,timerKey:0}),l=(0,n.KR)(""),h=(0,n.KR)(""),f=(0,n.KR)(""),m=(0,n.KR)(""),y=(0,n.KR)("default"),g=(0,n.KR)("default"),b=(0,n.KR)("default"),j=(0,n.KR)(""),k=()=>{a.verificationExpired=!0,a.verificationStart=!1},w=async()=>{if(0!==l.value.length)if(y.value="default",A(h.value)){g.value="default";try{await(0,i.ZM)(h.value),a.verificationSent=!0,a.verificationStart=!0,a.timerKey+=1}catch(e){const t=e;t.errorCode&&(g.value="error")}}else g.value="error";else y.value="error"},x=async()=>{if(a.verificationSent)try{const e=await(0,i.bt)(h.value,f.value);m.value=e.id??"",console.log(m.value),t.push({name:"find-password-reset",query:{name:l.value,email:h.value,userId:m.value}})}catch(e){const t=e;"AUTH_03"!==t.errorCode&&"INVALID_VALUE_02"!==t.errorCode||(b.value="error",j.value="인증번호가 틀렸습니다.")}},A=e=>{const t=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return t.test(e)};return(0,r.wB)((()=>a.verificationStart),(e=>{e&&(a.timerKey+=1)})),(e,t)=>((0,r.uX)(),(0,r.CE)("div",s,[(0,r.Lk)("span",c,[(0,r.bF)((0,n.R1)(u.pd),{placeholder:"이름을 입력해주세요",label:"이름",modelValue:l.value,"onUpdate:modelValue":t[0]||(t[0]=e=>l.value=e),state:y.value},null,8,["modelValue","state"]),(0,r.bF)((0,n.R1)(u.pd),{placeholder:"example@naver.com",label:"이메일",modelValue:h.value,"onUpdate:modelValue":t[1]||(t[1]=e=>h.value=e),state:g.value,message:"이메일 주소를 입력해주세요"},null,8,["modelValue","state"]),a.verificationSent||a.isTimerActive?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.Wv)((0,n.R1)(u.$n),{key:0,text:"인증번호 받기",style:{backgroundColor:"var(--color-button-secondary)",color:"var(--color-button-on-secondary)",height:"44px",fontSize:"1.4rem"},onClick:w})),a.verificationSent?((0,r.uX)(),(0,r.Wv)((0,n.R1)(u.pd),{key:1,placeholder:"인증번호 입력",label:"인증번호",modelValue:f.value,"onUpdate:modelValue":t[2]||(t[2]=e=>f.value=e),state:b.value,message:j.value},null,8,["modelValue","state","message"])):(0,r.Q3)("",!0),a.verificationSent&&!a.verificationExpired?((0,r.uX)(),(0,r.Wv)((0,n.R1)(u.PM),{key:2,verificationStart:a.verificationStart,handleTimeout:k,onResendSms:w},null,8,["verificationStart"])):(0,r.Q3)("",!0)]),d,v,p,a.verificationSent?((0,r.uX)(),(0,r.Wv)((0,n.R1)(u.$n),{key:0,class:"next-button",onClick:x,text:"다음"})):(0,r.Q3)("",!0)]))}}),f=a(1241);const m=(0,f.A)(h,[["__scopeId","data-v-26b80436"]]);var y=m}}]);
//# sourceMappingURL=9470.8a6de5cb.js.map