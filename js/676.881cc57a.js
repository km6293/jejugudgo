"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[676],{525:function(e,a,t){t.d(a,{Ak:function(){return u},EZ:function(){return s},Md:function(){return d},Ro:function(){return i},ZM:function(){return c},bt:function(){return h},qm:function(){return l}});var n=t(4373);const o={"Content-Type":"application/json"},r=e=>{const a=n.A.isAxiosError(e)&&e.response?e.response.data.errorCode:null;throw{originalError:e,errorCode:a}},l=async(e,a)=>{try{const t="http://localhost:8080/api/v1/auth/sms/send",r={name:e,phoneNumber:a},l=await n.A.post(t,r,{headers:o});return l.data}catch(t){r(t)}},s=async(e,a,t)=>{try{const r="http://localhost:8080/api/v1/auth/sms/check",l={name:e,phoneNumber:a,verificationCode:t},s=await n.A.post(r,l,{headers:o});return s.data}catch(l){r(l)}},u=async(e,a)=>{try{const t="http://localhost:8080/api/v1/auth/sms/send/later",r={name:e,phoneNumber:a},l=await n.A.post(t,r,{headers:o});return l.data}catch(t){r(t)}},c=async e=>{try{const a="http://localhost:8080/api/v1/auth/authentication/send",t=await n.A.post(a,{email:e},{headers:{"Content-Type":"application/json"}});return t.data}catch(a){const e=n.A.isAxiosError(a)&&a.response?a.response.data.errorCode:null;throw{originalError:a,errorCode:e}}},i=async(e,a)=>{try{const t="http://localhost:8080/api/v1/auth/authentication/check",r={email:e,authCode:a},l=await n.A.post(t,r,{headers:o});return l.data}catch(t){r(t)}},d=async(e,a)=>{try{const t="http://localhost:8080/api/v1/auth/find/id",o={name:e,phoneNumber:a},r=await n.A.post(t,o);return r.data}catch(t){r(t)}},h=async(e,a)=>{try{const t="http://localhost:8080/api/v1/auth/authentication/check/later",o={email:e,authCode:a},r=await n.A.post(t,o);return r.data}catch(t){r(t)}}},1676:function(e,a,t){t.r(a),t.d(a,{default:function(){return p}});t(4114);var n=t(6768),o=t(144),r=t(1387),l=t(525),s=t(6502);const u={class:"find-password-email-container"},c={class:"find-password-email-input"};var i=(0,n.pM)({__name:"FindPasswordByEmail",setup(e){const a=(0,r.rd)(),t=(0,o.Kh)({verificationSent:!1}),i=(0,o.KR)(""),d=(0,o.KR)(""),h=(0,o.KR)(""),p=(0,o.KR)(""),v=(0,o.KR)("default"),m=(0,o.KR)("default"),f=(0,o.KR)("default"),y=(0,o.KR)(""),b=async()=>{if(0!==i.value.length)if(v.value="default",C(d.value)){m.value="default";try{await(0,l.ZM)(d.value),t.verificationSent=!0}catch(e){const a=e;a.errorCode&&(m.value="error")}}else m.value="error";else v.value="error"},w=async()=>{if(t.verificationSent)try{const e=await(0,l.bt)(d.value,h.value);p.value=e.id??"",console.log(p.value),a.push({name:"find-password-reset",query:{name:i.value,email:d.value,userId:p.value}})}catch(e){const a=e;"AUTH_03"===a.errorCode&&(f.value="error",y.value="인증번호가 틀렸습니다.")}},C=e=>{const a=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return a.test(e)};return(e,a)=>((0,n.uX)(),(0,n.CE)("div",u,[(0,n.Lk)("span",c,[(0,n.bF)((0,o.R1)(s.pd),{placeholder:"이름을 입력해주세요",label:"이름",modelValue:i.value,"onUpdate:modelValue":a[0]||(a[0]=e=>i.value=e),state:v.value},null,8,["modelValue","state"]),(0,n.bF)((0,o.R1)(s.pd),{placeholder:"example@naver.com",label:"이메일",modelValue:d.value,"onUpdate:modelValue":a[1]||(a[1]=e=>d.value=e),state:m.value,message:"이메일 주소를 입력해주세요"},null,8,["modelValue","state"]),t.verificationSent?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.Wv)((0,o.R1)(s.$n),{key:0,text:"인증번호 받기",style:{backgroundColor:"var(--color-button-secondary)",color:"var(--color-button-on-secondary)",height:"44px",fontSize:"1.4rem"},onClick:b})),t.verificationSent?((0,n.uX)(),(0,n.Wv)((0,o.R1)(s.pd),{key:1,placeholder:"인증번호 입력",label:"인증번호",modelValue:h.value,"onUpdate:modelValue":a[2]||(a[2]=e=>h.value=e),state:f.value,message:y.value},null,8,["modelValue","state","message"])):(0,n.Q3)("",!0)]),t.verificationSent?((0,n.uX)(),(0,n.Wv)((0,o.R1)(s.$n),{key:0,class:"next-button",onClick:w,text:"다음"})):(0,n.Q3)("",!0)]))}}),d=t(1241);const h=(0,d.A)(i,[["__scopeId","data-v-01d1c112"]]);var p=h}}]);
//# sourceMappingURL=676.881cc57a.js.map